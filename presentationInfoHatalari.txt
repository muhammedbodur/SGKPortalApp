? Shared configuration yüklendi: D:\AspNetExamples\SGKPortalApp\appsettings.Shared.json
? Audit logging configuration yüklendi: D:\AspNetExamples\SGKPortalApp\appsettings.AuditLogging.json
?? Database Connection: Server=localhost\SQLEXPRESS;Database=SGKPortalDB;U...
? HttpClient configured - BaseAddress: https://localhost:9080
?? Common Layer servisleri kaydediliyor...
  ? IMemoryCache → MemoryCache
  ? ICurrentUserService → CurrentUserService
  ? IPermissionKeyResolverService → PermissionKeyResolverService
  ?? Common Layer hazır!

? PresentationLayer services registered (HTTP-only communication)
  ? IPermissionKeyResolverService → PermissionKeyResolverAdapter (PresentationLayer override)
?? Presentation Layer başlatılıyor...
?? API URL: https://localhost:9080
?? State Services kaydediliyor...
  ? 5 State Service kayıt edildi
?? AuthenticationServices servisleri kaydediliyor...
    ?? Bulunan interface'ler: 1
    ?? Bulunan implementation'lar: 4
    ? ICookieAuthService -> CookieAuthService
    ?? AuthenticationServices: 1 servis kayıt edildi
?? UserSessionServices servisleri kaydediliyor...
    ?? Bulunan interface'ler: 1
    ?? Bulunan implementation'lar: 1
    ? IUserInfoService -> UserInfoService
    ?? UserSessionServices: 1 servis kayıt edildi
?? StorageServices servisleri kaydediliyor...
    ??  StorageServices modülünde servis bulunamadı
?? UIServices servisleri kaydediliyor...
    ?? Bulunan interface'ler: 5
    ?? Bulunan implementation'lar: 15
    ? IImageCacheService -> ImageCacheService
    ? ILoadingService -> LoadingService
    ? IModalService -> ModalService
    ? IThemeService -> ThemeService
    ? IToastService -> ToastService
    ?? UIServices: 5 servis kayıt edildi
?? Auth API Services kaydediliyor...
    ?? Bulunan interface'ler: 1
    ?? Bulunan implementation'lar: 5
    ? IAuthApiService -> AuthApiService (Typed HttpClient)
    ?? Auth: 1 API service kayıt edildi
?? Common API Services kaydediliyor...
    ?? Bulunan interface'ler: 9
    ?? Bulunan implementation'lar: 71
    ? IAuditLogApiService -> AuditLogApiService (Typed HttpClient)
    ? IDtoDiscoveryApiService -> DtoDiscoveryApiService (Typed HttpClient)
    ? IHizmetBinasiApiService -> HizmetBinasiApiService (Typed HttpClient)
    ? IIlApiService -> IlApiService (Typed HttpClient)
    ? IIlceApiService -> IlceApiService (Typed HttpClient)
    ? IModulApiService -> ModulApiService (Typed HttpClient)
    ? IModulControllerApiService -> ModulControllerApiService (Typed HttpClient)
    ? IModulControllerIslemApiService -> ModulControllerIslemApiService (Typed HttpClient)
    ? IUserApiService -> UserApiService (Typed HttpClient)
    ?? Common: 9 API service kayıt edildi
?? Personel API Services kaydediliyor...
    ?? Bulunan interface'ler: 8
    ?? Bulunan implementation'lar: 65
    ? IAtanmaNedeniApiService -> AtanmaNedeniApiService (Typed HttpClient)
    ? IDepartmanApiService -> DepartmanApiService (Typed HttpClient)
    ? IPersonelApiService -> PersonelApiService (Typed HttpClient)
    ? IPersonelCocukApiService -> PersonelCocukApiService (Typed HttpClient)
    ? IPersonelYetkiApiService -> PersonelYetkiApiService (Typed HttpClient)
    ? ISendikaApiService -> SendikaApiService (Typed HttpClient)
    ? IServisApiService -> ServisApiService (Typed HttpClient)
    ? IUnvanApiService -> UnvanApiService (Typed HttpClient)
    ?? Personel: 8 API service kayıt edildi
?? Siramatik API Services kaydediliyor...
    ?? Bulunan interface'ler: 14
    ?? Bulunan implementation'lar: 140
    ? IBankoApiService -> BankoApiService (Typed HttpClient)
    ? IKanalAltApiService -> KanalAltApiService (Typed HttpClient)
    ? IKanalAltIslemApiService -> KanalAltIslemApiService (Typed HttpClient)
    ? IKanalApiService -> KanalApiService (Typed HttpClient)
    ? IKanalIslemApiService -> KanalIslemApiService (Typed HttpClient)
    ? IKanalPersonelApiService -> KanalPersonelApiService (Typed HttpClient)
    ? IKioskApiService -> KioskApiService (Typed HttpClient)
    ? IKioskMenuApiService -> KioskMenuApiService (Typed HttpClient)
    ? IKioskMenuAtamaApiService -> KioskMenuAtamaApiService (Typed HttpClient)
    ? IKioskMenuIslemApiService -> KioskMenuIslemApiService (Typed HttpClient)
    ? IKioskSimulatorApiService -> KioskSimulatorApiService (Typed HttpClient)
    ? ISiraCagirmaApiService -> SiraCagirmaApiService (Typed HttpClient)
    ? ISiraYonlendirmeApiService -> SiraYonlendirmeApiService (Typed HttpClient)
    ? ITvApiService -> TvApiService (Typed HttpClient)
    ?? Siramatik: 14 API service kayıt edildi
?? Pdks API Services kaydediliyor...
    ??  Pdks modülünde API service bulunamadı
?? Eshot API Services kaydediliyor...
    ??  Eshot modülünde API service bulunamadı
?? Presentation Layer hazır!

SignalR Hub: API katmaninda (https://localhost:9080/hubs/siramatik)
?? SignalR Hub: API katmanında (https://localhost:9080/hubs/siramatik)
??  Database migration ApiLayer tarafından yönetiliyor

╔════════════════════════════════════════════════════════╗
║      SGK PORTAL PRESENTATION BAŞLATILIYOR...           ║
╚════════════════════════════════════════════════════════╝
?? Ortam: Development
?? HTTPS URL: https://localhost:8080
?? HTTP URL: http://localhost:8081
?? API URL: https://localhost:9080
?? Database: Server=localhost\SQLEXPRESS
╚════════════════════════════════════════════════════════╝

info: SGKPortalApp.PresentationLayer.Services.BackgroundServices.StaleConnectionCleanupService[0]
      StaleConnectionCleanupService başlatıldı. Aralık: 00:05:00, Threshold: 10 dakika
info: System.Net.Http.HttpClient.ApiClient.LogicalHandler[100]
      Start processing HTTP request POST https://localhost:9080/api/hub-connections/cleanup/startup
info: System.Net.Http.HttpClient.ApiClient.ClientHandler[100]
      Sending HTTP request POST https://localhost:9080/api/hub-connections/cleanup/startup
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: https://localhost:8080
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:8081
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: D:\AspNetExamples\SGKPortalApp\SGKPortalApp.PresentationLayer
info: System.Net.Http.HttpClient.ApiClient.ClientHandler[101]
      Received HTTP response headers after 3395.3624ms - 401
info: System.Net.Http.HttpClient.ApiClient.LogicalHandler[101]
      End processing HTTP request after 3410.3174ms - 401
warn: SGKPortalApp.PresentationLayer.Services.BackgroundServices.StaleConnectionCleanupService[0]
      ?? Başlangıç temizliği API çağrısı başarısız: Unauthorized
info: SGKPortalApp.PresentationLayer.Pages.Auth.LogoutModel[0]
      ?? Logout: Muhammed Bodur çıkış yapıyor...
info: System.Net.Http.HttpClient.Default.LogicalHandler[100]
      Start processing HTTP request POST https://localhost:9080/api/auth/logout
info: System.Net.Http.HttpClient.Default.ClientHandler[100]
      Sending HTTP request POST https://localhost:9080/api/auth/logout
info: System.Net.Http.HttpClient.Default.ClientHandler[101]
      Received HTTP response headers after 20638.1643ms - 200
info: System.Net.Http.HttpClient.Default.LogicalHandler[101]
      End processing HTTP request after 20638.3414ms - 200
info: SGKPortalApp.PresentationLayer.Pages.Auth.LogoutModel[0]
      ? API Logout başarılı - 28165202398
warn: SGKPortalApp.PresentationLayer.Pages.Auth.LogoutModel[0]
      ?? Session temizlenirken hata
      System.InvalidOperationException: Session has not been configured for this application or request.
         at Microsoft.AspNetCore.Http.DefaultHttpContext.get_Session()
         at SGKPortalApp.PresentationLayer.Pages.Auth.LogoutModel.OnGetAsync() in D:\AspNetExamples\SGKPortalApp\SGKPortalApp.PresentationLayer\Pages\Auth\Logout.cshtml.cs:line 85
info: SGKPortalApp.PresentationLayer.Pages.Auth.LogoutModel[0]
      ? Logout: Muhammed Bodur başarıyla çıkış yaptı
warn: Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware[4]
      Unable to configure Browser Link script injection on the response. This may have been caused by the response's Content-Encoding: 'br'. Consider disabling response compression.
warn: Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware[4]
      Unable to configure browser refresh script injection on the response. This may have been caused by the response's Content-Encoding: 'br'. Consider disabling response compression.
info: SGKPortalApp.PresentationLayer.Services.ApiServices.Concrete.Auth.AuthApiService[0]
      POST: https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.LogicalHandler[100]
      Start processing HTTP request POST https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.ClientHandler[100]
      Sending HTTP request POST https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.ClientHandler[101]
      Received HTTP response headers after 635.6097ms - 401
info: System.Net.Http.HttpClient.IAuthApiService.LogicalHandler[101]
      End processing HTTP request after 635.7263ms - 401
fail: SGKPortalApp.PresentationLayer.Services.ApiServices.Concrete.Auth.AuthApiService[0]
      POST hatası: https://localhost:9080/api/auth/login - Status: Unauthorized - Content: {
        "message": "Giriş sırasında bir hata oluştu. Lütfen tekrar deneyin."
      }
info: SGKPortalApp.PresentationLayer.Services.ApiServices.Concrete.Auth.AuthApiService[0]
      POST: https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.LogicalHandler[100]
      Start processing HTTP request POST https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.ClientHandler[100]
      Sending HTTP request POST https://localhost:9080/api/auth/login
info: System.Net.Http.HttpClient.IAuthApiService.ClientHandler[101]
      Received HTTP response headers after 158.2478ms - 401
info: System.Net.Http.HttpClient.IAuthApiService.LogicalHandler[101]
      End processing HTTP request after 158.3568ms - 401
fail: SGKPortalApp.PresentationLayer.Services.ApiServices.Concrete.Auth.AuthApiService[0]
      POST hatası: https://localhost:9080/api/auth/login - Status: Unauthorized - Content: {
        "message": "Giriş sırasında bir hata oluştu. Lütfen tekrar deneyin."
      }
