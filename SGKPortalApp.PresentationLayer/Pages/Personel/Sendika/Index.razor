@page "/personel/sendika"
@inherits SGKPortalApp.PresentationLayer.Components.Base.FieldPermissionPageBase
@using SGKPortalApp.BusinessObjectLayer.DTOs.Response.PersonelIslemleri
@using SGKPortalApp.BusinessObjectLayer.Enums.Common

<PageTitle>Sendika Y√∂netimi - SGK Portal</PageTitle>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE HEADER -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="container-xxl flex-grow-1 container-p-y">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h4 class="fw-bold mb-1">
                <i class="bx bx-group me-2"></i>Sendika Y√∂netimi
            </h4>
            <p class="text-muted mb-0">
                T√ºm sendikalarƒ± g√∂r√ºnt√ºleyin ve y√∂netin
            </p>
        </div>

        <div class="d-flex gap-2">
            <!-- Excel Export -->
            <button class="btn btn-success" @onclick="ExportToExcel" disabled="@IsExporting">
                @if (IsExporting && ExportType == "excel")
                {
                    <span class="spinner-border spinner-border-sm me-1"></span>
                }
                else
                {
                    <i class="bx bx-download me-1"></i>
                }
                Excel
            </button>

            <!-- PDF Export -->
            <button class="btn btn-danger" @onclick="ExportToPdf" disabled="@IsExporting">
                @if (IsExporting && ExportType == "pdf")
                {
                    <span class="spinner-border spinner-border-sm me-1"></span>
                }
                else
                {
                    <i class="bx bxs-file-pdf me-1"></i>
                }
                PDF
            </button>

            <!-- Yeni Sendika -->
            <button class="btn btn-primary" @onclick="NavigateToCreate">
                <i class="bx bx-plus me-1"></i>Yeni Sendika
            </button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- FILTER CARD -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row g-3">
                <!-- Arama -->
                <div class="col-md-4">
                    <label class="form-label">Sendika Ara</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bx bx-search"></i>
                        </span>
                        <input type="text"
                               class="form-control"
                               placeholder="Sendika adƒ±..."
                               @bind="searchTerm"
                               @bind:event="oninput"
                               @onkeyup="OnSearchChanged" />
                    </div>
                </div>

                <!-- Durum Filtresi -->
                <div class="col-md-3">
                    <label class="form-label">Durum</label>
                    <select class="form-select" value="@filterStatus" @onchange="OnFilterStatusChanged">
                        <option value="all">T√ºm√º</option>
                        <option value="active">Aktif</option>
                        <option value="passive">Pasif</option>
                    </select>
                </div>

                <!-- Sƒ±ralama -->
                <div class="col-md-3">
                    <label class="form-label">Sƒ±ralama</label>
                    <select class="form-select" value="@sortBy" @onchange="OnSortByChanged">
                        <option value="name-asc">ƒ∞sim (A-Z)</option>
                        <option value="name-desc">ƒ∞sim (Z-A)</option>
                        <option value="date-newest">En Yeni</option>
                        <option value="date-oldest">En Eski</option>
                        <option value="personel-most">En √áok Personel</option>
                        <option value="personel-least">En Az Personel</option>
                    </select>
                </div>

                <!-- Temizle -->
                <div class="col-md-2 d-flex align-items-end">
                    <button class="btn btn-outline-secondary w-100" @onclick="ClearFilters">
                        <i class="bx bx-x me-1"></i>Temizle
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- STATISTICS CARDS -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Toplam Sendika</h6>
                            <h3 class="mb-0">@TotalCount</h3>
                        </div>
                        <div class="avatar">
                            <span class="avatar-initial rounded bg-label-primary">
                                <i class="bx bx-group bx-sm"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Aktif</h6>
                            <h3 class="mb-0 text-success">@ActiveCount</h3>
                        </div>
                        <div class="avatar">
                            <span class="avatar-initial rounded bg-label-success">
                                <i class="bx bx-check-circle bx-sm"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Pasif</h6>
                            <h3 class="mb-0 text-danger">@PassiveCount</h3>
                        </div>
                        <div class="avatar">
                            <span class="avatar-initial rounded bg-label-danger">
                                <i class="bx bx-x-circle bx-sm"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">G√∂sterilen</h6>
                            <h3 class="mb-0">@FilteredSendikalar.Count</h3>
                        </div>
                        <div class="avatar">
                            <span class="avatar-initial rounded bg-label-info">
                                <i class="bx bx-filter bx-sm"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- DATA TABLE -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Sendika Listesi</h5>
            <span class="badge bg-primary">@FilteredSendikalar.Count kayƒ±t</span>
        </div>

        @if (IsLoading)
        {
            <div class="card-body text-center py-5">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Y√ºkleniyor...</span>
                </div>
                <p class="mt-2 text-muted">Sendikalar y√ºkleniyor...</p>
            </div>
        }
        else if (!FilteredSendikalar.Any())
        {
            <div class="card-body text-center py-5">
                <i class="bx bx-search bx-lg text-muted mb-3"></i>
                <h5 class="text-muted">Sendika Bulunamadƒ±</h5>
                <p class="text-muted">
                    @if (!string.IsNullOrEmpty(searchTerm))
                    {
                        <span>Arama kriterlerinize uygun sendika bulunamadƒ±.</span>
                    }
                    else
                    {
                        <span>Hen√ºz sendika eklenmemi≈ü.</span>
                    }
                </p>
                <button class="btn btn-primary mt-2" @onclick="NavigateToCreate">
                    <i class="bx bx-plus me-1"></i>ƒ∞lk Sendikayƒ± Ekle
                </button>
            </div>
        }
        else
        {
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th style="width: 5%">#</th>
                            <th style="width: 30%">Sendika Adƒ±</th>
                            <th style="width: 10%">Personel Sayƒ±sƒ±</th>
                            <th style="width: 10%">Durum</th>
                            <th style="width: 17%">Eklenme Tarihi</th>
                            <th style="width: 17%">G√ºncelleme Tarihi</th>
                            <th style="width: 5%" class="text-end">ƒ∞≈ülemler</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var (sendika, index) in FilteredSendikalar.Select((s, i) => (s, i + 1)))
                        {
                            <tr>
                                <td>@index</td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="avatar avatar-sm me-2">
                                            <span class="avatar-initial rounded-circle bg-label-primary">
                                                @sendika.SendikaAdi.Substring(0, 1).ToUpper()
                                            </span>
                                        </div>
                                        <strong>@sendika.SendikaAdi</strong>
                                    </div>
                                </td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="bx bx-user me-2 text-primary"></i>
                                        <strong>@sendika.PersonelSayisi</strong>
                                    </div>
                                </td>
                                <td>
                                    @if (sendika.Aktiflik == Aktiflik.Aktif)
                                    {
                                        <span class="badge bg-success">
                                            <i class="bx bx-check-circle me-1"></i>Aktif
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="badge bg-danger">
                                            <i class="bx bx-x-circle me-1"></i>Pasif
                                        </span>
                                    }
                                </td>
                                <td>
                                    <small class="text-muted">
                                        @sendika.EklenmeTarihi.ToString("dd.MM.yyyy HH:mm")
                                    </small>
                                </td>
                                <td>
                                    <small class="text-muted">
                                        @sendika.DuzenlenmeTarihi.ToString("dd.MM.yyyy HH:mm")
                                    </small>
                                </td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center gap-1">
                                        @if (IsActionVisible("EDIT"))
                                        {
                                            <!-- D√ºzenle -->
                                            <button class="btn btn-sm btn-icon btn-outline-primary"
                                                    @onclick="() => NavigateToEdit(sendika.SendikaId)"
                                                    disabled="@(!CanEditAction("EDIT"))"
                                                    title="@(CanEditAction("EDIT") ? "D√ºzenle" : "D√ºzenle (Yetki Yok)")">
                                                <i class="bx bx-edit"></i>
                                            </button>
                                        }

                                        @if (IsActionVisible("TOGGLE"))
                                        {
                                            <!-- Aktif/Pasif Toggle -->
                                            <button class="btn btn-sm btn-icon @(sendika.Aktiflik == Aktiflik.Aktif ? "btn-outline-warning" : "btn-outline-success")"
                                                    @onclick="() => ShowToggleStatusConfirmation(sendika.SendikaId, sendika.SendikaAdi, sendika.Aktiflik)"
                                                    disabled="@(!CanEditAction("TOGGLE"))"
                                                    title="@(CanEditAction("TOGGLE") ? (sendika.Aktiflik == Aktiflik.Aktif ? "Pasif Yap" : "Aktif Yap") : (sendika.Aktiflik == Aktiflik.Aktif ? "Pasif Yap (Yetki Yok)" : "Aktif Yap (Yetki Yok)"))">
                                                <i class="bx @(sendika.Aktiflik == Aktiflik.Aktif ? "bx-toggle-right" : "bx-toggle-left")"></i>
                                            </button>
                                        }

                                        @if (IsActionVisible("DELETE"))
                                        {
                                            <!-- Sil -->
                                            <button class="btn btn-sm btn-icon btn-outline-danger"
                                                    @onclick="() => ConfirmDelete(sendika)"
                                                    disabled="@(!CanEditAction("DELETE"))"
                                                    title="@(CanEditAction("DELETE") ? "Sil" : "Sil (Yetki Yok)")">
                                                <i class="bx bx-trash"></i>
                                            </button>
                                        }
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TOGGLE STATUS CONFIRMATION MODAL -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
@if (ShowToggleModal)
{
    <div class="modal fade show d-block" tabindex="-1" style="background-color: rgba(0,0,0,0.5);">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        @if (ToggleSendikaCurrentStatus == Aktiflik.Aktif)
                        {
                            <i class="bx bx-x-circle text-warning me-2"></i>
                            <span>Sendikayƒ± Pasif Yap</span>
                        }
                        else
                        {
                            <i class="bx bx-check-circle text-success me-2"></i>
                            <span>Sendikayƒ± Aktif Yap</span>
                        }
                    </h5>
                    <button type="button" class="btn-close" @onclick="CloseToggleModal" disabled="@IsToggling"></button>
                </div>
                <div class="modal-body">
                    @if (ToggleSendikaCurrentStatus == Aktiflik.Aktif)
                    {
                        <div class="alert alert-warning mb-3">
                            <div class="d-flex align-items-start">
                                <i class="bx bx-error-circle me-2 fs-5"></i>
                                <div>
                                    <strong>‚ö†Ô∏è Dikkat!</strong> Sendikayƒ± pasif hale getirmek √ºzeresiniz.
                                    <p class="mb-0 mt-2">
                                        <strong>@ToggleSendikaAdi</strong> Sendikasƒ±nƒ± pasif yapmak istediƒüinizden emin misiniz?
                                    </p>
                                </div>
                            </div>
                        </div>

                        @if (ToggleSendikaPersonelSayisi > 0)
                        {
                            <div class="alert alert-info mb-3">
                                <i class="bx bx-info-circle me-2"></i>
                                Bu sendikada <strong>@ToggleSendikaPersonelSayisi aktif personel</strong> bulunmaktadƒ±r.
                            </div>
                        }

                        <p class="mb-2"><strong>Pasif yapƒ±ldƒ±ƒüƒ±nda:</strong></p>
                        <ul class="text-muted mb-0">
                            <li>Sendika listede g√∂r√ºnmeye devam edecektir</li>
                            <li>Mevcut personeller sendikalarƒ±nƒ± koruyacaktƒ±r</li>
                            <li>Yeni personel atamasƒ± yapƒ±lamayacaktƒ±r</li>
                            <li>Sendika se√ßim listelerinde g√∂r√ºnmeyecektir</li>
                        </ul>
                    }
                    else
                    {
                        <div class="alert alert-success mb-3">
                            <div class="d-flex align-items-start">
                                <i class="bx bx-check-circle me-2 fs-5"></i>
                                <div>
                                    <strong>Bilgi:</strong> Sendikayƒ± aktif hale getirmek √ºzeresiniz.
                                    <p class="mb-0 mt-2">
                                        <strong>@ToggleSendikaAdi</strong> Sendikasƒ±nƒ± aktif yapmak istediƒüinizden emin misiniz?
                                    </p>
                                </div>
                            </div>
                        </div>

                        <p class="mb-2"><strong>Aktif yapƒ±ldƒ±ƒüƒ±nda:</strong></p>
                        <ul class="text-muted mb-0">
                            <li>Sendika t√ºm listelerde g√∂r√ºnecektir</li>
                            <li>Yeni personel atamasƒ± yapƒ±labilecektir</li>
                            <li>T√ºm √∂zellikler kullanƒ±labilir olacaktƒ±r</li>
                        </ul>
                    }
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" @onclick="CloseToggleModal" disabled="@IsToggling">
                        ƒ∞ptal
                    </button>
                    <button type="button"
                            class="btn @(ToggleSendikaCurrentStatus == Aktiflik.Aktif ? "btn-warning" : "btn-success")"
                            @onclick="ConfirmToggleStatus"
                            disabled="@IsToggling">
                        @if (IsToggling)
                        {
                            <span class="spinner-border spinner-border-sm me-1"></span>
                            <span>ƒ∞≈üleniyor...</span>
                        }
                        else
                        {
                            @if (ToggleSendikaCurrentStatus == Aktiflik.Aktif)
                            {
                                <i class="bx bx-x-circle me-1"></i>
                                <span>Pasif Yap</span>
                            }
                            else
                            {
                                <i class="bx bx-check-circle me-1"></i>
                                <span>Aktif Yap</span>
                            }
                        }
                    </button>
                </div>
            </div>
        </div>
    </div>
}

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- DELETE CONFIRMATION MODAL -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
@if (SendikaToDelete != null)
{
    <div class="modal fade show d-block" tabindex="-1" style="background-color: rgba(0,0,0,0.5);">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bx bx-trash text-danger me-2"></i>Sendika Sil
                    </h5>
                    <button type="button" class="btn-close" @onclick="CancelDelete"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger mb-3">
                        <div class="d-flex align-items-start">
                            <i class="bx bx-error-circle me-2 fs-5"></i>
                            <div>
                                <strong>üóëÔ∏è Dikkat!</strong> Kalƒ±cƒ± silme i≈ülemi yapƒ±yorsunuz.
                                <p class="mb-0 mt-2">
                                    <strong>@SendikaToDelete.SendikaAdi</strong> Sendikasƒ±nƒ± silmek istediƒüinizden emin misiniz?
                                </p>
                            </div>
                        </div>
                    </div>

                    @if (SendikaToDelete.PersonelSayisi > 0)
                    {
                        <div class="alert alert-warning mb-3">
                            <i class="bx bx-error-circle me-2"></i>
                            <strong>Uyarƒ±:</strong> Bu sendikada <strong>@SendikaToDelete.PersonelSayisi aktif personel</strong> bulunmaktadƒ±r!
                        </div>
                    }

                    <p class="mb-2"><strong>Silme i≈ülemi sonrasƒ±nda:</strong></p>
                    <ul class="text-muted mb-3">
                        <li><strong>Sendika kaydƒ± kalƒ±cƒ± olarak silinecektir</strong></li>
                        @if (SendikaToDelete.PersonelSayisi > 0)
                        {
                            <li class="text-danger"><strong>Bu i≈ülem personel sayƒ±sƒ± nedeniyle ba≈üarƒ±sƒ±z olacaktƒ±r</strong></li>
                            <li>√ñnce t√ºm personelleri ba≈üka bir sendikaya aktarmalƒ±sƒ±nƒ±z</li>
                        }
                        else
                        {
                            <li>Bu i≈ülem geri alƒ±namaz</li>
                        }
                    </ul>

                    @if (SendikaToDelete.PersonelSayisi > 0)
                    {
                        <p class="text-danger mb-0">
                            <small><strong>Not:</strong> Silme i≈ülemine devam etmek i√ßin √∂nce t√ºm personelleri ba≈üka bir sendikaya aktarmanƒ±z gerekmektedir.</small>
                        </p>
                    }
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" @onclick="CancelDelete">
                        <i class="bx bx-x me-1"></i>ƒ∞ptal
                    </button>
                    <button type="button" class="btn btn-danger" @onclick="DeleteSendika" disabled="@IsDeleting">
                        @if (IsDeleting)
                        {
                            <span class="spinner-border spinner-border-sm me-1"></span>
                        }
                        else
                        {
                            <i class="bx bx-trash me-1"></i>
                        }
                        Sil
                    </button>
                </div>
            </div>
        </div>
    </div>
}
